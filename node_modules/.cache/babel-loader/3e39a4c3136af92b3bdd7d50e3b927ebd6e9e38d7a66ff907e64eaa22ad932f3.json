{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Sarrdeh Tech\\\\Desktop\\\\Sarrdeh-React\\\\sarrdeh-react\\\\src\\\\components\\\\Components\\\\ScrollStack\\\\ScrollStack.jsx\",\n  _s = $RefreshSig$();\nimport { useLayoutEffect, useRef, useCallback } from \"react\";\nimport Lenis from \"lenis\";\nimport \"./ScrollStack.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const ScrollStackItem = ({\n  children,\n  itemClassName = \"\"\n}) => /*#__PURE__*/_jsxDEV(\"div\", {\n  className: `scroll-stack-card ${itemClassName}`.trim(),\n  children: children\n}, void 0, false, {\n  fileName: _jsxFileName,\n  lineNumber: 6,\n  columnNumber: 3\n}, this);\n_c = ScrollStackItem;\nconst ScrollStack = ({\n  children,\n  className = \"\",\n  itemDistance = 100,\n  itemScale = 0.03,\n  itemStackDistance = 30,\n  stackPosition = \"20%\",\n  scaleEndPosition = \"10%\",\n  baseScale = 0.85,\n  scaleDuration = 0.5,\n  rotationAmount = 0,\n  blurAmount = 0,\n  onStackComplete\n}) => {\n  _s();\n  const scrollerRef = useRef(null);\n  const stackCompletedRef = useRef(false);\n  const animationFrameRef = useRef(null);\n  const lenisRef = useRef(null);\n  const cardsRef = useRef([]);\n  const lastTransformsRef = useRef(new Map());\n  const isUpdatingRef = useRef(false);\n  const calculateProgress = useCallback((scrollTop, start, end) => {\n    if (scrollTop < start) return 0;\n    if (scrollTop > end) return 1;\n    return (scrollTop - start) / (end - start);\n  }, []);\n  const parsePercentage = useCallback((value, containerHeight) => {\n    if (typeof value === 'string' && value.includes('%')) {\n      return parseFloat(value) / 100 * containerHeight;\n    }\n    return parseFloat(value);\n  }, []);\n  const updateCardTransforms = useCallback(() => {\n    const scroller = scrollerRef.current;\n    if (!scroller || !cardsRef.current.length || isUpdatingRef.current) return;\n    isUpdatingRef.current = true;\n    const scrollTop = scroller.scrollTop;\n    const containerHeight = scroller.clientHeight;\n    const stackPositionPx = parsePercentage(stackPosition, containerHeight);\n    cardsRef.current.forEach((card, i) => {\n      if (!card) return;\n      const cardTop = card.offsetTop;\n      const triggerStart = cardTop - stackPositionPx - itemStackDistance * i;\n\n      // First card (index 0) stays completely fixed\n      if (i === 0) {\n        card.style.transform = 'translate3d(0, 0px, 0) scale(1) rotate(0deg)';\n        card.style.filter = '';\n        return;\n      }\n\n      // For other cards, calculate stacking position\n      let translateY = 0;\n      let scale = 1;\n      let rotation = 0;\n      let blur = 0;\n      if (scrollTop >= triggerStart) {\n        // Calculate how much this card should stack\n        const stackProgress = Math.min(1, (scrollTop - triggerStart) / (itemStackDistance * 2));\n\n        // Stack on top of the first card\n        translateY = stackProgress * (itemStackDistance * i);\n\n        // Scale down slightly as it stacks\n        scale = 1 - stackProgress * 0.05 * i;\n\n        // Add slight rotation for visual effect\n        rotation = stackProgress * (rotationAmount * i);\n\n        // Add blur for depth\n        if (blurAmount) {\n          blur = stackProgress * (blurAmount * i);\n        }\n      }\n      const newTransform = {\n        translateY: Math.round(translateY * 100) / 100,\n        scale: Math.round(scale * 1000) / 1000,\n        rotation: Math.round(rotation * 100) / 100,\n        blur: Math.round(blur * 100) / 100\n      };\n      const lastTransform = lastTransformsRef.current.get(i);\n      const hasChanged = !lastTransform || Math.abs(lastTransform.translateY - newTransform.translateY) > 0.1 || Math.abs(lastTransform.scale - newTransform.scale) > 0.001 || Math.abs(lastTransform.rotation - newTransform.rotation) > 0.1 || Math.abs(lastTransform.blur - newTransform.blur) > 0.1;\n      if (hasChanged) {\n        const transform = `translate3d(0, ${newTransform.translateY}px, 0) scale(${newTransform.scale}) rotate(${newTransform.rotation}deg)`;\n        const filter = newTransform.blur > 0 ? `blur(${newTransform.blur}px)` : '';\n        card.style.transform = transform;\n        card.style.filter = filter;\n        lastTransformsRef.current.set(i, newTransform);\n      }\n\n      // Check if all cards are stacked (completion detection)\n      if (i === cardsRef.current.length - 1) {\n        const lastCardTriggerStart = cardTop - stackPositionPx - itemStackDistance * i;\n        const isFullyStacked = scrollTop >= lastCardTriggerStart + itemStackDistance;\n        if (isFullyStacked && !stackCompletedRef.current) {\n          stackCompletedRef.current = true;\n          onStackComplete === null || onStackComplete === void 0 ? void 0 : onStackComplete();\n        } else if (!isFullyStacked && stackCompletedRef.current) {\n          stackCompletedRef.current = false;\n        }\n      }\n    });\n    isUpdatingRef.current = false;\n  }, [itemStackDistance, stackPosition, rotationAmount, blurAmount, onStackComplete, parsePercentage]);\n  const handleScroll = useCallback(() => {\n    updateCardTransforms();\n  }, [updateCardTransforms]);\n  const setupLenis = useCallback(() => {\n    const scroller = scrollerRef.current;\n    if (!scroller) return;\n    const lenis = new Lenis({\n      wrapper: scroller,\n      content: scroller.querySelector('.scroll-stack-inner'),\n      duration: 1.2,\n      easing: t => Math.min(1, 1.001 - Math.pow(2, -10 * t)),\n      smoothWheel: true,\n      touchMultiplier: 2,\n      infinite: false,\n      gestureOrientationHandler: true,\n      normalizeWheel: true,\n      wheelMultiplier: 1,\n      touchInertiaMultiplier: 35,\n      lerp: 0.1,\n      syncTouch: true,\n      syncTouchLerp: 0.075,\n      touchInertia: 0.6\n    });\n    lenis.on('scroll', handleScroll);\n    const raf = time => {\n      lenis.raf(time);\n      animationFrameRef.current = requestAnimationFrame(raf);\n    };\n    animationFrameRef.current = requestAnimationFrame(raf);\n    lenisRef.current = lenis;\n    return lenis;\n  }, [handleScroll]);\n  useLayoutEffect(() => {\n    const scroller = scrollerRef.current;\n    if (!scroller) return;\n    const cards = Array.from(scroller.querySelectorAll(\".scroll-stack-card\"));\n    cardsRef.current = cards;\n    const transformsCache = lastTransformsRef.current;\n    cards.forEach((card, i) => {\n      if (i < cards.length - 1) {\n        card.style.marginBottom = `${itemDistance}px`;\n      }\n      card.style.willChange = 'transform, filter';\n      card.style.transformOrigin = 'top center';\n      card.style.backfaceVisibility = 'hidden';\n      card.style.transform = 'translateZ(0)';\n      card.style.webkitTransform = 'translateZ(0)';\n      card.style.perspective = '1000px';\n      card.style.webkitPerspective = '1000px';\n    });\n    setupLenis();\n    updateCardTransforms();\n    return () => {\n      if (animationFrameRef.current) {\n        cancelAnimationFrame(animationFrameRef.current);\n      }\n      if (lenisRef.current) {\n        lenisRef.current.destroy();\n      }\n      stackCompletedRef.current = false;\n      cardsRef.current = [];\n      transformsCache.clear();\n      isUpdatingRef.current = false;\n    };\n  }, [itemDistance, itemScale, itemStackDistance, stackPosition, scaleEndPosition, baseScale, scaleDuration, rotationAmount, blurAmount, onStackComplete, setupLenis, updateCardTransforms]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: `scroll-stack-scroller ${className}`.trim(),\n    ref: scrollerRef,\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"scroll-stack-inner\",\n      children: [children, /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"scroll-stack-end\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 238,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 235,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 231,\n    columnNumber: 5\n  }, this);\n};\n_s(ScrollStack, \"jQanoUh9Z32xcLUSw++jwwTDx3U=\");\n_c2 = ScrollStack;\nexport default ScrollStack;\nvar _c, _c2;\n$RefreshReg$(_c, \"ScrollStackItem\");\n$RefreshReg$(_c2, \"ScrollStack\");","map":{"version":3,"names":["useLayoutEffect","useRef","useCallback","Lenis","jsxDEV","_jsxDEV","ScrollStackItem","children","itemClassName","className","trim","fileName","_jsxFileName","lineNumber","columnNumber","_c","ScrollStack","itemDistance","itemScale","itemStackDistance","stackPosition","scaleEndPosition","baseScale","scaleDuration","rotationAmount","blurAmount","onStackComplete","_s","scrollerRef","stackCompletedRef","animationFrameRef","lenisRef","cardsRef","lastTransformsRef","Map","isUpdatingRef","calculateProgress","scrollTop","start","end","parsePercentage","value","containerHeight","includes","parseFloat","updateCardTransforms","scroller","current","length","clientHeight","stackPositionPx","forEach","card","i","cardTop","offsetTop","triggerStart","style","transform","filter","translateY","scale","rotation","blur","stackProgress","Math","min","newTransform","round","lastTransform","get","hasChanged","abs","set","lastCardTriggerStart","isFullyStacked","handleScroll","setupLenis","lenis","wrapper","content","querySelector","duration","easing","t","pow","smoothWheel","touchMultiplier","infinite","gestureOrientationHandler","normalizeWheel","wheelMultiplier","touchInertiaMultiplier","lerp","syncTouch","syncTouchLerp","touchInertia","on","raf","time","requestAnimationFrame","cards","Array","from","querySelectorAll","transformsCache","marginBottom","willChange","transformOrigin","backfaceVisibility","webkitTransform","perspective","webkitPerspective","cancelAnimationFrame","destroy","clear","ref","_c2","$RefreshReg$"],"sources":["C:/Users/Sarrdeh Tech/Desktop/Sarrdeh-React/sarrdeh-react/src/components/Components/ScrollStack/ScrollStack.jsx"],"sourcesContent":["import { useLayoutEffect, useRef, useCallback } from \"react\";\nimport Lenis from \"lenis\";\nimport \"./ScrollStack.css\";\n\nexport const ScrollStackItem = ({ children, itemClassName = \"\" }) => (\n  <div className={`scroll-stack-card ${itemClassName}`.trim()}>{children}</div>\n);\n\nconst ScrollStack = ({\n  children,\n  className = \"\",\n  itemDistance = 100,\n  itemScale = 0.03,\n  itemStackDistance = 30,\n  stackPosition = \"20%\",\n  scaleEndPosition = \"10%\",\n  baseScale = 0.85,\n  scaleDuration = 0.5,\n  rotationAmount = 0,\n  blurAmount = 0,\n  onStackComplete,\n}) => {\n  const scrollerRef = useRef(null);\n  const stackCompletedRef = useRef(false);\n  const animationFrameRef = useRef(null);\n  const lenisRef = useRef(null);\n  const cardsRef = useRef([]);\n  const lastTransformsRef = useRef(new Map());\n  const isUpdatingRef = useRef(false);\n\n  const calculateProgress = useCallback((scrollTop, start, end) => {\n    if (scrollTop < start) return 0;\n    if (scrollTop > end) return 1;\n    return (scrollTop - start) / (end - start);\n  }, []);\n\n  const parsePercentage = useCallback((value, containerHeight) => {\n    if (typeof value === 'string' && value.includes('%')) {\n      return (parseFloat(value) / 100) * containerHeight;\n    }\n    return parseFloat(value);\n  }, []);\n\n  const updateCardTransforms = useCallback(() => {\n    const scroller = scrollerRef.current;\n    if (!scroller || !cardsRef.current.length || isUpdatingRef.current) return;\n\n    isUpdatingRef.current = true;\n\n    const scrollTop = scroller.scrollTop;\n    const containerHeight = scroller.clientHeight;\n    const stackPositionPx = parsePercentage(stackPosition, containerHeight);\n\n    cardsRef.current.forEach((card, i) => {\n      if (!card) return;\n\n      const cardTop = card.offsetTop;\n      const triggerStart = cardTop - stackPositionPx - (itemStackDistance * i);\n\n      // First card (index 0) stays completely fixed\n      if (i === 0) {\n        card.style.transform = 'translate3d(0, 0px, 0) scale(1) rotate(0deg)';\n        card.style.filter = '';\n        return;\n      }\n\n      // For other cards, calculate stacking position\n      let translateY = 0;\n      let scale = 1;\n      let rotation = 0;\n      let blur = 0;\n\n      if (scrollTop >= triggerStart) {\n        // Calculate how much this card should stack\n        const stackProgress = Math.min(1, (scrollTop - triggerStart) / (itemStackDistance * 2));\n        \n        // Stack on top of the first card\n        translateY = stackProgress * (itemStackDistance * i);\n        \n        // Scale down slightly as it stacks\n        scale = 1 - (stackProgress * 0.05 * i);\n        \n        // Add slight rotation for visual effect\n        rotation = stackProgress * (rotationAmount * i);\n        \n        // Add blur for depth\n        if (blurAmount) {\n          blur = stackProgress * (blurAmount * i);\n        }\n      }\n\n      const newTransform = {\n        translateY: Math.round(translateY * 100) / 100,\n        scale: Math.round(scale * 1000) / 1000,\n        rotation: Math.round(rotation * 100) / 100,\n        blur: Math.round(blur * 100) / 100\n      };\n\n      const lastTransform = lastTransformsRef.current.get(i);\n      const hasChanged = !lastTransform || \n        Math.abs(lastTransform.translateY - newTransform.translateY) > 0.1 ||\n        Math.abs(lastTransform.scale - newTransform.scale) > 0.001 ||\n        Math.abs(lastTransform.rotation - newTransform.rotation) > 0.1 ||\n        Math.abs(lastTransform.blur - newTransform.blur) > 0.1;\n\n      if (hasChanged) {\n        const transform = `translate3d(0, ${newTransform.translateY}px, 0) scale(${newTransform.scale}) rotate(${newTransform.rotation}deg)`;\n        const filter = newTransform.blur > 0 ? `blur(${newTransform.blur}px)` : '';\n\n        card.style.transform = transform;\n        card.style.filter = filter;\n        \n        lastTransformsRef.current.set(i, newTransform);\n      }\n\n      // Check if all cards are stacked (completion detection)\n      if (i === cardsRef.current.length - 1) {\n        const lastCardTriggerStart = cardTop - stackPositionPx - (itemStackDistance * i);\n        const isFullyStacked = scrollTop >= (lastCardTriggerStart + itemStackDistance);\n        \n        if (isFullyStacked && !stackCompletedRef.current) {\n          stackCompletedRef.current = true;\n          onStackComplete?.();\n        } else if (!isFullyStacked && stackCompletedRef.current) {\n          stackCompletedRef.current = false;\n        }\n      }\n    });\n\n    isUpdatingRef.current = false;\n  }, [\n    itemStackDistance,\n    stackPosition,\n    rotationAmount,\n    blurAmount,\n    onStackComplete,\n    parsePercentage,\n  ]);\n\n  const handleScroll = useCallback(() => {\n    updateCardTransforms();\n  }, [updateCardTransforms]);\n\n  const setupLenis = useCallback(() => {\n    const scroller = scrollerRef.current;\n    if (!scroller) return;\n\n    const lenis = new Lenis({\n      wrapper: scroller,\n      content: scroller.querySelector('.scroll-stack-inner'),\n      duration: 1.2,\n      easing: (t) => Math.min(1, 1.001 - Math.pow(2, -10 * t)),\n      smoothWheel: true,\n      touchMultiplier: 2,\n      infinite: false,\n      gestureOrientationHandler: true,\n      normalizeWheel: true,\n      wheelMultiplier: 1,\n      touchInertiaMultiplier: 35,\n      lerp: 0.1,\n      syncTouch: true,\n      syncTouchLerp: 0.075,\n      touchInertia: 0.6,\n    });\n\n    lenis.on('scroll', handleScroll);\n\n    const raf = (time) => {\n      lenis.raf(time);\n      animationFrameRef.current = requestAnimationFrame(raf);\n    };\n    animationFrameRef.current = requestAnimationFrame(raf);\n\n    lenisRef.current = lenis;\n    return lenis;\n  }, [handleScroll]);\n\n  useLayoutEffect(() => {\n    const scroller = scrollerRef.current;\n    if (!scroller) return;\n\n    const cards = Array.from(scroller.querySelectorAll(\".scroll-stack-card\"));\n    cardsRef.current = cards;\n    const transformsCache = lastTransformsRef.current;\n\n    cards.forEach((card, i) => {\n      if (i < cards.length - 1) {\n        card.style.marginBottom = `${itemDistance}px`;\n      }\n      card.style.willChange = 'transform, filter';\n      card.style.transformOrigin = 'top center';\n      card.style.backfaceVisibility = 'hidden';\n      card.style.transform = 'translateZ(0)';\n      card.style.webkitTransform = 'translateZ(0)';\n      card.style.perspective = '1000px';\n      card.style.webkitPerspective = '1000px';\n    });\n\n    setupLenis();\n\n    updateCardTransforms();\n\n    return () => {\n      if (animationFrameRef.current) {\n        cancelAnimationFrame(animationFrameRef.current);\n      }\n      if (lenisRef.current) {\n        lenisRef.current.destroy();\n      }\n      stackCompletedRef.current = false;\n      cardsRef.current = [];\n      transformsCache.clear();\n      isUpdatingRef.current = false;\n    };\n  }, [\n    itemDistance,\n    itemScale,\n    itemStackDistance,\n    stackPosition,\n    scaleEndPosition,\n    baseScale,\n    scaleDuration,\n    rotationAmount,\n    blurAmount,\n    onStackComplete,\n    setupLenis,\n    updateCardTransforms,\n  ]);\n\n  return (\n    <div\n      className={`scroll-stack-scroller ${className}`.trim()}\n      ref={scrollerRef}\n    >\n      <div className=\"scroll-stack-inner\">\n        {children}\n        {/* Spacer so the last pin can release cleanly */}\n        <div className=\"scroll-stack-end\" />\n      </div>\n    </div>\n  );\n};\n\nexport default ScrollStack;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}