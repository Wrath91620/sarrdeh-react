{"ast":null,"code":"import{motion}from'framer-motion';import{useEffect,useRef,useState,useMemo}from'react';import{jsxs as _jsxs,jsx as _jsx}from\"react/jsx-runtime\";const buildKeyframes=(from,steps)=>{const keys=new Set([...Object.keys(from),...steps.flatMap(s=>Object.keys(s))]);const keyframes={};keys.forEach(k=>{keyframes[k]=[from[k],...steps.map(s=>s[k])];});return keyframes;};const BlurText=_ref=>{let{text='',delay=200,className='',animateBy='words',direction='top',threshold=0.1,rootMargin='0px',animationFrom,animationTo,easing=t=>t,onAnimationComplete,stepDuration=0.35,highlightWords=[]}=_ref;const elements=animateBy==='words'?text.split(' '):text.split('');const[inView,setInView]=useState(false);const ref=useRef(null);useEffect(()=>{if(!ref.current)return;const observer=new IntersectionObserver(_ref2=>{let[entry]=_ref2;if(entry.isIntersecting){setInView(true);observer.unobserve(ref.current);}},{threshold,rootMargin});observer.observe(ref.current);return()=>observer.disconnect();// eslint-disable-next-line react-hooks/exhaustive-deps\n},[threshold,rootMargin]);const defaultFrom=useMemo(()=>direction==='top'?{filter:'blur(10px)',opacity:0,y:-50}:{filter:'blur(10px)',opacity:0,y:50},[direction]);const defaultTo=useMemo(()=>[{filter:'blur(5px)',opacity:0.5,y:direction==='top'?5:-5},{filter:'blur(0px)',opacity:1,y:0}],[direction]);const fromSnapshot=animationFrom!==null&&animationFrom!==void 0?animationFrom:defaultFrom;const toSnapshots=animationTo!==null&&animationTo!==void 0?animationTo:defaultTo;const stepCount=toSnapshots.length+1;const totalDuration=stepDuration*(stepCount-1);const times=Array.from({length:stepCount},(_,i)=>stepCount===1?0:i/(stepCount-1));return/*#__PURE__*/_jsx(\"p\",{ref:ref,className:className,style:{display:'flex',flexWrap:'wrap'},children:elements.map((segment,index)=>{const animateKeyframes=buildKeyframes(fromSnapshot,toSnapshots);const spanTransition={duration:totalDuration,times,delay:index*delay/1000};spanTransition.ease=easing;const isHighlighted=highlightWords.some(word=>segment.toLowerCase().includes(word.toLowerCase()));return/*#__PURE__*/_jsxs(motion.span,{className:`inline-block will-change-[transform,filter,opacity] ${isHighlighted?'sarrdehTech':''}`,initial:fromSnapshot,animate:inView?animateKeyframes:fromSnapshot,transition:spanTransition,onAnimationComplete:index===elements.length-1?onAnimationComplete:undefined,children:[segment===' '?'\\u00A0':segment,animateBy==='words'&&index<elements.length-1&&'\\u00A0']},index);})});};export default BlurText;","map":{"version":3,"names":["motion","useEffect","useRef","useState","useMemo","jsxs","_jsxs","jsx","_jsx","buildKeyframes","from","steps","keys","Set","Object","flatMap","s","keyframes","forEach","k","map","BlurText","_ref","text","delay","className","animateBy","direction","threshold","rootMargin","animationFrom","animationTo","easing","t","onAnimationComplete","stepDuration","highlightWords","elements","split","inView","setInView","ref","current","observer","IntersectionObserver","_ref2","entry","isIntersecting","unobserve","observe","disconnect","defaultFrom","filter","opacity","y","defaultTo","fromSnapshot","toSnapshots","stepCount","length","totalDuration","times","Array","_","i","style","display","flexWrap","children","segment","index","animateKeyframes","spanTransition","duration","ease","isHighlighted","some","word","toLowerCase","includes","span","initial","animate","transition","undefined"],"sources":["C:/Users/Sarrdeh Tech/Desktop/Sarrdeh-React/sarrdeh-react/src/components/TextAnimations/BlurText/BlurText.jsx"],"sourcesContent":["import { motion } from 'framer-motion';\r\nimport { useEffect, useRef, useState, useMemo } from 'react';\r\n\r\nconst buildKeyframes = (from, steps) => {\r\n  const keys = new Set([\r\n    ...Object.keys(from),\r\n    ...steps.flatMap((s) => Object.keys(s)),\r\n  ]);\r\n\r\n  const keyframes = {};\r\n  keys.forEach((k) => {\r\n    keyframes[k] = [from[k], ...steps.map((s) => s[k])];\r\n  });\r\n  return keyframes;\r\n};\r\n\r\nconst BlurText = ({\r\n  text = '',\r\n  delay = 200,\r\n  className = '',\r\n  animateBy = 'words',\r\n  direction = 'top',\r\n  threshold = 0.1,\r\n  rootMargin = '0px',\r\n  animationFrom,\r\n  animationTo,\r\n  easing = (t) => t,\r\n  onAnimationComplete,\r\n  stepDuration = 0.35,\r\n  highlightWords = [],\r\n}) => {\r\n  const elements = animateBy === 'words' ? text.split(' ') : text.split('');\r\n  const [inView, setInView] = useState(false);\r\n  const ref = useRef(null);\r\n\r\n  useEffect(() => {\r\n    if (!ref.current) return;\r\n    const observer = new IntersectionObserver(\r\n      ([entry]) => {\r\n        if (entry.isIntersecting) {\r\n          setInView(true);\r\n          observer.unobserve(ref.current);\r\n        }\r\n      },\r\n      { threshold, rootMargin }\r\n    );\r\n    observer.observe(ref.current);\r\n    return () => observer.disconnect();\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [threshold, rootMargin]);\r\n\r\n  const defaultFrom = useMemo(\r\n    () =>\r\n      direction === 'top'\r\n        ? { filter: 'blur(10px)', opacity: 0, y: -50 }\r\n        : { filter: 'blur(10px)', opacity: 0, y: 50 },\r\n    [direction]\r\n  );\r\n\r\n  const defaultTo = useMemo(\r\n    () => [\r\n      {\r\n        filter: 'blur(5px)',\r\n        opacity: 0.5,\r\n        y: direction === 'top' ? 5 : -5,\r\n      },\r\n      { filter: 'blur(0px)', opacity: 1, y: 0 },\r\n    ],\r\n    [direction]\r\n  );\r\n\r\n  const fromSnapshot = animationFrom ?? defaultFrom;\r\n  const toSnapshots = animationTo ?? defaultTo;\r\n\r\n  const stepCount = toSnapshots.length + 1;\r\n  const totalDuration = stepDuration * (stepCount - 1);\r\n  const times = Array.from({ length: stepCount }, (_, i) =>\r\n    stepCount === 1 ? 0 : i / (stepCount - 1)\r\n  );\r\n\r\n  return (\r\n    <p\r\n      ref={ref}\r\n      className={className}\r\n      style={{ display: 'flex', flexWrap: 'wrap' }}\r\n    >\r\n      {elements.map((segment, index) => {\r\n        const animateKeyframes = buildKeyframes(fromSnapshot, toSnapshots);\r\n\r\n        const spanTransition = {\r\n          duration: totalDuration,\r\n          times,\r\n          delay: (index * delay) / 1000,\r\n        };\r\n        (spanTransition).ease = easing;\r\n\r\n        const isHighlighted = highlightWords.some(word => \r\n          segment.toLowerCase().includes(word.toLowerCase())\r\n        );\r\n        \r\n        return (\r\n          <motion.span\r\n            className={`inline-block will-change-[transform,filter,opacity] ${isHighlighted ? 'sarrdehTech' : ''}`}\r\n            key={index}\r\n            initial={fromSnapshot}\r\n            animate={inView ? animateKeyframes : fromSnapshot}\r\n            transition={spanTransition}\r\n            onAnimationComplete={\r\n              index === elements.length - 1 ? onAnimationComplete : undefined\r\n            }\r\n          >\r\n            {segment === ' ' ? '\\u00A0' : segment}\r\n            {animateBy === 'words' && index < elements.length - 1 && '\\u00A0'}\r\n          </motion.span>\r\n        );\r\n      })}\r\n    </p>\r\n  );\r\n};\r\n\r\nexport default BlurText;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}