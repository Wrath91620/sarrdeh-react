{"ast":null,"code":"import{useLayoutEffect,useRef,useCallback}from\"react\";import Lenis from\"lenis\";import\"./ScrollStack.css\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export const ScrollStackItem=_ref=>{let{children,itemClassName=\"\"}=_ref;return/*#__PURE__*/_jsx(\"div\",{className:`scroll-stack-card ${itemClassName}`.trim(),children:children});};const ScrollStack=_ref2=>{let{children,className=\"\",itemDistance=100,itemScale=0.03,itemStackDistance=30,stackPosition=\"35%\",scaleEndPosition=\"10%\",baseScale=0.85,scaleDuration=0.5,rotationAmount=0,blurAmount=0,onStackComplete}=_ref2;const scrollerRef=useRef(null);const stackCompletedRef=useRef(false);const animationFrameRef=useRef(null);const lenisRef=useRef(null);const cardsRef=useRef([]);const lastTransformsRef=useRef(new Map());const isUpdatingRef=useRef(false);const calculateProgress=useCallback((scrollTop,start,end)=>{if(scrollTop<start)return 0;if(scrollTop>end)return 1;return(scrollTop-start)/(end-start);},[]);const parsePercentage=useCallback((value,containerHeight)=>{if(typeof value==='string'&&value.includes('%')){return parseFloat(value)/100*containerHeight;}return parseFloat(value);},[]);const updateCardTransforms=useCallback(()=>{const scroller=scrollerRef.current;if(!scroller||!cardsRef.current.length||isUpdatingRef.current)return;isUpdatingRef.current=true;const scrollTop=scroller.scrollTop;const containerHeight=scroller.clientHeight;const stackPositionPx=parsePercentage(stackPosition,containerHeight);const scaleEndPositionPx=parsePercentage(scaleEndPosition,containerHeight);cardsRef.current.forEach((card,i)=>{if(!card)return;const cardTop=card.offsetTop;const triggerStart=cardTop-stackPositionPx-itemStackDistance*i;const triggerEnd=cardTop-scaleEndPositionPx;const pinStart=cardTop-stackPositionPx-itemStackDistance*i;const scaleProgress=calculateProgress(scrollTop,triggerStart,triggerEnd);const targetScale=baseScale+i*itemScale;const scale=1-scaleProgress*(1-targetScale);const rotation=rotationAmount?i*rotationAmount*scaleProgress:0;let blur=0;if(blurAmount){let topCardIndex=0;for(let j=0;j<cardsRef.current.length;j++){const jCardTop=cardsRef.current[j].offsetTop;const jTriggerStart=jCardTop-stackPositionPx-itemStackDistance*j;if(scrollTop>=jTriggerStart){topCardIndex=j;}}if(i<topCardIndex){const depthInStack=topCardIndex-i;blur=Math.max(0,depthInStack*blurAmount);}}let translateY=0;const isPinned=scrollTop>=pinStart;if(isPinned){translateY=scrollTop-cardTop+stackPositionPx+itemStackDistance*i;}const newTransform={translateY:Math.round(translateY*100)/100,scale:Math.round(scale*1000)/1000,rotation:Math.round(rotation*100)/100,blur:Math.round(blur*100)/100};const lastTransform=lastTransformsRef.current.get(i);const hasChanged=!lastTransform||Math.abs(lastTransform.translateY-newTransform.translateY)>0.1||Math.abs(lastTransform.scale-newTransform.scale)>0.001||Math.abs(lastTransform.rotation-newTransform.rotation)>0.1||Math.abs(lastTransform.blur-newTransform.blur)>0.1;if(hasChanged){const transform=`translate3d(0, ${newTransform.translateY}px, 0) scale(${newTransform.scale}) rotate(${newTransform.rotation}deg)`;const filter=newTransform.blur>0?`blur(${newTransform.blur}px)`:'';card.style.transform=transform;card.style.filter=filter;lastTransformsRef.current.set(i,newTransform);}if(i===cardsRef.current.length-1){const isInView=scrollTop>=pinStart;if(isInView&&!stackCompletedRef.current){stackCompletedRef.current=true;onStackComplete===null||onStackComplete===void 0?void 0:onStackComplete();}else if(!isInView&&stackCompletedRef.current){stackCompletedRef.current=false;}}});isUpdatingRef.current=false;},[itemScale,itemStackDistance,stackPosition,scaleEndPosition,baseScale,rotationAmount,blurAmount,onStackComplete,calculateProgress,parsePercentage]);const handleScroll=useCallback(()=>{updateCardTransforms();},[updateCardTransforms]);const setupLenis=useCallback(()=>{const scroller=scrollerRef.current;if(!scroller)return;const lenis=new Lenis({wrapper:scroller,content:scroller.querySelector('.scroll-stack-inner'),duration:1.2,easing:t=>Math.min(1,1.001-Math.pow(2,-10*t)),smoothWheel:true,touchMultiplier:2,infinite:false,gestureOrientationHandler:true,normalizeWheel:true,wheelMultiplier:1,touchInertiaMultiplier:35,lerp:0.1,syncTouch:true,syncTouchLerp:0.075,touchInertia:0.6});lenis.on('scroll',handleScroll);const raf=time=>{lenis.raf(time);animationFrameRef.current=requestAnimationFrame(raf);};animationFrameRef.current=requestAnimationFrame(raf);lenisRef.current=lenis;return lenis;},[handleScroll]);useLayoutEffect(()=>{const scroller=scrollerRef.current;if(!scroller)return;const cards=Array.from(scroller.querySelectorAll(\".scroll-stack-card\"));cardsRef.current=cards;const transformsCache=lastTransformsRef.current;cards.forEach((card,i)=>{if(i<cards.length-1){card.style.marginBottom=`${itemDistance}px`;}card.style.willChange='transform, filter';card.style.transformOrigin='top center';card.style.backfaceVisibility='hidden';card.style.transform='translateZ(0)';card.style.webkitTransform='translateZ(0)';card.style.perspective='1000px';card.style.webkitPerspective='1000px';});setupLenis();updateCardTransforms();return()=>{if(animationFrameRef.current){cancelAnimationFrame(animationFrameRef.current);}if(lenisRef.current){lenisRef.current.destroy();}stackCompletedRef.current=false;cardsRef.current=[];transformsCache.clear();isUpdatingRef.current=false;};},[itemDistance,itemScale,itemStackDistance,stackPosition,scaleEndPosition,baseScale,scaleDuration,rotationAmount,blurAmount,onStackComplete,setupLenis,updateCardTransforms]);return/*#__PURE__*/_jsx(\"div\",{className:`scroll-stack-scroller ${className}`.trim(),ref:scrollerRef,children:/*#__PURE__*/_jsxs(\"div\",{className:\"scroll-stack-inner\",children:[children,/*#__PURE__*/_jsx(\"div\",{className:\"scroll-stack-end\"})]})});};export default ScrollStack;","map":{"version":3,"names":["useLayoutEffect","useRef","useCallback","Lenis","jsx","_jsx","jsxs","_jsxs","ScrollStackItem","_ref","children","itemClassName","className","trim","ScrollStack","_ref2","itemDistance","itemScale","itemStackDistance","stackPosition","scaleEndPosition","baseScale","scaleDuration","rotationAmount","blurAmount","onStackComplete","scrollerRef","stackCompletedRef","animationFrameRef","lenisRef","cardsRef","lastTransformsRef","Map","isUpdatingRef","calculateProgress","scrollTop","start","end","parsePercentage","value","containerHeight","includes","parseFloat","updateCardTransforms","scroller","current","length","clientHeight","stackPositionPx","scaleEndPositionPx","forEach","card","i","cardTop","offsetTop","triggerStart","triggerEnd","pinStart","scaleProgress","targetScale","scale","rotation","blur","topCardIndex","j","jCardTop","jTriggerStart","depthInStack","Math","max","translateY","isPinned","newTransform","round","lastTransform","get","hasChanged","abs","transform","filter","style","set","isInView","handleScroll","setupLenis","lenis","wrapper","content","querySelector","duration","easing","t","min","pow","smoothWheel","touchMultiplier","infinite","gestureOrientationHandler","normalizeWheel","wheelMultiplier","touchInertiaMultiplier","lerp","syncTouch","syncTouchLerp","touchInertia","on","raf","time","requestAnimationFrame","cards","Array","from","querySelectorAll","transformsCache","marginBottom","willChange","transformOrigin","backfaceVisibility","webkitTransform","perspective","webkitPerspective","cancelAnimationFrame","destroy","clear","ref"],"sources":["C:/Users/Sarrdeh Tech/Desktop/Sarrdeh-React/sarrdeh-react/src/components/Components/ScrollStack/ScrollStack.jsx"],"sourcesContent":["import { useLayoutEffect, useRef, useCallback } from \"react\";\nimport Lenis from \"lenis\";\nimport \"./ScrollStack.css\";\n\nexport const ScrollStackItem = ({ children, itemClassName = \"\" }) => (\n  <div className={`scroll-stack-card ${itemClassName}`.trim()}>{children}</div>\n);\n\nconst ScrollStack = ({\n  children,\n  className = \"\",\n  itemDistance = 100,\n  itemScale = 0.03,\n  itemStackDistance = 30,\n  stackPosition =\"35%\",\n  scaleEndPosition = \"10%\",\n  baseScale = 0.85,\n  scaleDuration = 0.5,\n  rotationAmount = 0,\n  blurAmount = 0,\n  onStackComplete,\n}) => {\n  const scrollerRef = useRef(null);\n  const stackCompletedRef = useRef(false);\n  const animationFrameRef = useRef(null);\n  const lenisRef = useRef(null);\n  const cardsRef = useRef([]);\n  const lastTransformsRef = useRef(new Map());\n  const isUpdatingRef = useRef(false);\n\n  const calculateProgress = useCallback((scrollTop, start, end) => {\n    if (scrollTop < start) return 0;\n    if (scrollTop > end) return 1;\n    return (scrollTop - start) / (end - start);\n  }, []);\n\n  const parsePercentage = useCallback((value, containerHeight) => {\n    if (typeof value === 'string' && value.includes('%')) {\n      return (parseFloat(value) / 100) * containerHeight;\n    }\n    return parseFloat(value);\n  }, []);\n\n  const updateCardTransforms = useCallback(() => {\n    const scroller = scrollerRef.current;\n    if (!scroller || !cardsRef.current.length || isUpdatingRef.current) return;\n\n    isUpdatingRef.current = true;\n\n    const scrollTop = scroller.scrollTop;\n    const containerHeight = scroller.clientHeight;\n    const stackPositionPx = parsePercentage(stackPosition, containerHeight);\n    const scaleEndPositionPx = parsePercentage(scaleEndPosition, containerHeight);\n\n    cardsRef.current.forEach((card, i) => {\n      if (!card) return;\n\n      const cardTop = card.offsetTop;\n      const triggerStart = cardTop - stackPositionPx - (itemStackDistance * i);\n      const triggerEnd = cardTop - scaleEndPositionPx;\n      const pinStart = cardTop - stackPositionPx - (itemStackDistance * i);\n\n\n      const scaleProgress = calculateProgress(scrollTop, triggerStart, triggerEnd);\n      const targetScale = baseScale + (i * itemScale);\n      const scale = 1 - scaleProgress * (1 - targetScale);\n      const rotation = rotationAmount ? i * rotationAmount * scaleProgress : 0;\n\n      let blur = 0;\n      if (blurAmount) {\n        let topCardIndex = 0;\n        for (let j = 0; j < cardsRef.current.length; j++) {\n          const jCardTop = cardsRef.current[j].offsetTop;\n          const jTriggerStart = jCardTop - stackPositionPx - (itemStackDistance * j);\n          if (scrollTop >= jTriggerStart) {\n            topCardIndex = j;\n          }\n        }\n        \n        if (i < topCardIndex) {\n          const depthInStack = topCardIndex - i;\n          blur = Math.max(0, depthInStack * blurAmount);\n        }\n      }\n\n      let translateY = 0;\n      const isPinned = scrollTop >= pinStart;\n      \n      if (isPinned) {\n        translateY = scrollTop - cardTop + stackPositionPx + (itemStackDistance * i);\n      }\n\n      const newTransform = {\n        translateY: Math.round(translateY * 100) / 100,\n        scale: Math.round(scale * 1000) / 1000,\n        rotation: Math.round(rotation * 100) / 100,\n        blur: Math.round(blur * 100) / 100\n      };\n\n      const lastTransform = lastTransformsRef.current.get(i);\n      const hasChanged = !lastTransform || \n        Math.abs(lastTransform.translateY - newTransform.translateY) > 0.1 ||\n        Math.abs(lastTransform.scale - newTransform.scale) > 0.001 ||\n        Math.abs(lastTransform.rotation - newTransform.rotation) > 0.1 ||\n        Math.abs(lastTransform.blur - newTransform.blur) > 0.1;\n\n      if (hasChanged) {\n        const transform = `translate3d(0, ${newTransform.translateY}px, 0) scale(${newTransform.scale}) rotate(${newTransform.rotation}deg)`;\n        const filter = newTransform.blur > 0 ? `blur(${newTransform.blur}px)` : '';\n\n        card.style.transform = transform;\n        card.style.filter = filter;\n        \n        lastTransformsRef.current.set(i, newTransform);\n      }\n\n      if (i === cardsRef.current.length - 1) {\n        const isInView = scrollTop >= pinStart;\n        if (isInView && !stackCompletedRef.current) {\n          stackCompletedRef.current = true;\n          onStackComplete?.();\n        } else if (!isInView && stackCompletedRef.current) {\n          stackCompletedRef.current = false;\n        }\n      }\n    });\n\n    isUpdatingRef.current = false;\n  }, [\n    itemScale,\n    itemStackDistance,\n    stackPosition,\n    scaleEndPosition,\n    baseScale,\n    rotationAmount,\n    blurAmount,\n    onStackComplete,\n    calculateProgress,\n    parsePercentage,\n  ]);\n\n  const handleScroll = useCallback(() => {\n    updateCardTransforms();\n  }, [updateCardTransforms]);\n\n  const setupLenis = useCallback(() => {\n    const scroller = scrollerRef.current;\n    if (!scroller) return;\n\n    const lenis = new Lenis({\n      wrapper: scroller,\n      content: scroller.querySelector('.scroll-stack-inner'),\n      duration: 1.2,\n      easing: (t) => Math.min(1, 1.001 - Math.pow(2, -10 * t)),\n      smoothWheel: true,\n      touchMultiplier: 2,\n      infinite: false,\n      gestureOrientationHandler: true,\n      normalizeWheel: true,\n      wheelMultiplier: 1,\n      touchInertiaMultiplier: 35,\n      lerp: 0.1,\n      syncTouch: true,\n      syncTouchLerp: 0.075,\n      touchInertia: 0.6,\n    });\n\n    lenis.on('scroll', handleScroll);\n\n    const raf = (time) => {\n      lenis.raf(time);\n      animationFrameRef.current = requestAnimationFrame(raf);\n    };\n    animationFrameRef.current = requestAnimationFrame(raf);\n\n    lenisRef.current = lenis;\n    return lenis;\n  }, [handleScroll]);\n\n  useLayoutEffect(() => {\n    const scroller = scrollerRef.current;\n    if (!scroller) return;\n\n    const cards = Array.from(scroller.querySelectorAll(\".scroll-stack-card\"));\n    cardsRef.current = cards;\n    const transformsCache = lastTransformsRef.current;\n\n    cards.forEach((card, i) => {\n      if (i < cards.length - 1) {\n        card.style.marginBottom = `${itemDistance}px`;\n      }\n      card.style.willChange = 'transform, filter';\n      card.style.transformOrigin = 'top center';\n      card.style.backfaceVisibility = 'hidden';\n      card.style.transform = 'translateZ(0)';\n      card.style.webkitTransform = 'translateZ(0)';\n      card.style.perspective = '1000px';\n      card.style.webkitPerspective = '1000px';\n    });\n\n    setupLenis();\n\n    updateCardTransforms();\n\n    return () => {\n      if (animationFrameRef.current) {\n        cancelAnimationFrame(animationFrameRef.current);\n      }\n      if (lenisRef.current) {\n        lenisRef.current.destroy();\n      }\n      stackCompletedRef.current = false;\n      cardsRef.current = [];\n      transformsCache.clear();\n      isUpdatingRef.current = false;\n    };\n  }, [\n    itemDistance,\n    itemScale,\n    itemStackDistance,\n    stackPosition,\n    scaleEndPosition,\n    baseScale,\n    scaleDuration,\n    rotationAmount,\n    blurAmount,\n    onStackComplete,\n    setupLenis,\n    updateCardTransforms,\n  ]);\n\n  return (\n    <div\n      className={`scroll-stack-scroller ${className}`.trim()}\n      ref={scrollerRef}\n    >\n      <div className=\"scroll-stack-inner\">\n        {children}\n        {/* Spacer so the last pin can release cleanly */}\n        <div className=\"scroll-stack-end\" />\n      </div>\n    </div>\n  );\n};\n\nexport default ScrollStack;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}